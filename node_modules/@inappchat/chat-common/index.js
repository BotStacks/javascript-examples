"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});var c=(e=>(e.Audio="audio",e.File="file",e.Image="image",e.Location="location",e.Vcard="vcard",e.Video="video",e))(c||{}),f=(e=>(e.Conversation="Conversation",e.DirectMessage="DirectMessage",e.Group="Group",e.Thread="Thread",e))(f||{}),v=(e=>(e.Chat="Chat",e.Device="Device",e.Message="Message",e.User="User",e))(v||{}),l=(e=>(e.Android="ANDROID",e.Ios="IOS",e.Web="WEB",e))(l||{}),p=(e=>(e.Create="Create",e.Update="Update",e))(p||{}),m=(e=>(e.Approved="Approved",e.Rejected="Rejected",e))(m||{}),s=(e=>(e.Admin="Admin",e.Invited="Invited",e.Kicked="Kicked",e.Member="Member",e.Owner="Owner",e.RejectedInvite="RejectedInvite",e))(s||{}),g=(e=>(e.Away="Away",e.Dnd="DND",e.Offline="Offline",e.Online="Online",e))(g||{}),I=(e=>(e.Default="Default",e.UserJoined="UserJoined",e.UserLeft="UserLeft",e))(I||{}),M=(e=>(e.Admin="Admin",e.Member="Member",e.Moderator="Moderator",e.Owner="Owner",e))(M||{});function D(e){return e?e.split(";").map(n=>{const[r,i]=n.split(":");return[r,i.split(",")]}):[]}function w(e,n){return e.findIndex(r=>r[1].includes(n))}function U(e){return e.map(([n,r])=>`${n}:${r.join(",")}`).join(";")}function u(e,n,r){const i=e.find(t=>t[0]===r);i?i[1].push(n):e.push([r,[n]])}function o(e,n,r){e[n][1]=e[n][1].filter(i=>i!==r),e[n][1].length||e.splice(n,1)}function j(e,n,r){const i=w(r,e);return i>-1?n===r[i][0]?(o(r,i,e),"delete"):(o(r,i,e),u(r,e,n),"change"):(u(r,e,n),"add")}function R(e){if(!e)return!1;switch(e){case s.Admin:case s.Member:case s.Owner:return!0}return!1}function b(e,n){const r=[],i=/\B@(\w+)/g;let t;for(;(t=i.exec(e))!==null;){const a=t[1],O=t.index+1,d=n.find(A=>A.username===a);if(d)r.push({username:a,offset:O,user_id:d.id});else continue}return r}exports.AttachmentType=c;exports.ChatType=f;exports.DeleteEntity=v;exports.DeviceType=l;exports.EntityEventType=p;exports.FlagReviewStatus=m;exports.MemberRole=s;exports.OnlineStatus=g;exports.SystemMessageType=I;exports.TenantUserRole=M;exports.findUserReactionIndex=w;exports.isMember=R;exports.parseMentions=b;exports.parseReactions=D;exports.react=j;exports.serializeReactions=U;
